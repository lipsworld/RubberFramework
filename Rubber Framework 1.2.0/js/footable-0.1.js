(function(e,t,n){function i(){var e=this;e.id=null;e.busy=false;e.start=function(t,n){if(e.busy){return}e.stop();e.id=setTimeout(function(){t();e.id=null;e.busy=false},n);e.busy=true};e.stop=function(){if(e.id!=null){clearTimeout(e.id);e.id=null;e.busy=false}}}function s(n,r,s){var o=this;o.id=s;o.table=n;o.options=r;o.breakpoints=[];o.breakpointNames="";o.columns={};var u=o.options;var a=u.classes;o.timers={resize:new i,register:function(e){o.timers[e]=new i;return o.timers[e]}};t.footable.plugins.init(o);o.init=function(){var n=e(t),r=e(o.table);if(r.hasClass(a.loaded)){o.raise("footable_already_initialized");return}r.addClass(a.loading);r.find("> thead > tr > th, > thead > tr > td").each(function(){var e=o.getColumnData(this);o.columns[e.index]=e;var t=e.index+1;var n=r.find("> tbody > tr > td:nth-child("+t+")");if(e.className!=null)n.not(".footable-cell-detail").addClass(e.className)});for(var i in u.breakpoints){o.breakpoints.push({name:i,width:u.breakpoints[i]});o.breakpointNames+=i+" "}o.breakpoints.sort(function(e,t){return e["width"]-t["width"]});o.bindToggleSelectors();o.raise("footable_initializing");r.bind("footable_initialized",function(e){o.resize();r.removeClass(a.loading);r.find('[data-init="hide"]').hide();r.find('[data-init="show"]').show();r.addClass(a.loaded)});n.bind("resize.footable",function(){o.timers.resize.stop();o.timers.resize.start(function(){o.raise("footable_resizing");o.resize();o.raise("footable_resized")},u.delay)});o.raise("footable_initialized")};o.bindToggleSelectors=function(){var t=e(o.table);t.find(u.toggleSelector).unbind("click.footable").bind("click.footable",function(n){if(t.is(".breakpoint")){var r=e(this).is("tr")?e(this):e(this).parents("tr:first");o.toggleDetail(r.get(0))}})};o.parse=function(e,t){var n=u.parsers[t.type]||u.parsers.alpha;return n(e)};o.getColumnData=function(t){var n=e(t),r=n.data("hide");r=r||"";r=r.split(",");var i={index:n.index(),hide:{},type:n.data("type")||"alpha",name:n.data("name")||e.trim(n.text()),ignore:n.data("ignore")||false,className:n.data("class")||null};i.hide["default"]=n.data("hide")==="all"||e.inArray("default",r)>=0;for(var s in u.breakpoints){i.hide[s]=n.data("hide")==="all"||e.inArray(s,r)>=0}var a=o.raise("footable_column_data",{column:{data:i,th:t}});return a.column.data};o.getViewportWidth=function(){return window.innerWidth||(document.body?document.body.offsetWidth:0)};o.getViewportHeight=function(){return window.innerHeight||(document.body?document.body.offsetHeight:0)};o.hasBreakpointColumn=function(e){for(var t in o.columns){if(o.columns[t].hide[e]){return true}}return false};o.resize=function(){var t=e(o.table);var n={width:t.width(),height:t.height(),viewportWidth:o.getViewportWidth(),viewportHeight:o.getViewportHeight(),orientation:null};n.orientation=n.viewportWidth>n.viewportHeight?"landscape":"portrait";if(n.viewportWidth<n.width)n.width=n.viewportWidth;if(n.viewportHeight<n.height)n.height=n.viewportHeight;var r=t.data("footable_info");t.data("footable_info",n);if(!r||r&&r.width&&r.width!=n.width||r&&r.height&&r.height!=n.height){var i=null,s;for(var u=0;u<o.breakpoints.length;u++){s=o.breakpoints[u];if(s&&s.width&&n.width<=s.width){i=s;break}}var a=i==null?"default":i["name"];var f=o.hasBreakpointColumn(a);t.removeClass("default breakpoint").removeClass(o.breakpointNames).addClass(a+(f?" breakpoint":"")).find("> thead > tr > th").each(function(){var n=o.columns[e(this).index()];var r=n.index+1;var i=t.find("> tbody > tr > td:nth-child("+r+"), > tfoot > tr > td:nth-child("+r+"), > colgroup > col:nth-child("+r+")").add(this);if(n.hide[a]==false)i.show();else i.hide()}).end().find("> tbody > tr.footable-detail-show").each(function(){o.createOrUpdateDetailRow(this)});t.find("> tbody > tr.footable-detail-show:visible").each(function(){var t=e(this).next();if(t.hasClass("footable-row-detail")){if(a=="default"&&!f)t.hide();else t.show()}});t.find("> thead > tr > th.footable-last-column,> tbody > tr > td.footable-last-column").removeClass("footable-last-column");t.find("> thead > tr > th:visible:last,> tbody > tr > td:visible:last").addClass("footable-last-column");o.raise("footable_breakpoint_"+a,{info:n})}};o.toggleDetail=function(t){var n=e(t),r=o.createOrUpdateDetailRow(n.get(0)),i=n.next();if(!r&&i.is(":visible")){n.removeClass("footable-detail-show");i.hide()}else{n.addClass("footable-detail-show");i.show()}};o.createOrUpdateDetailRow=function(t){var n=e(t),r=n.next(),i,s=[];if(n.is(":hidden"))return;n.find("> td:hidden").each(function(){var t=o.columns[e(this).index()];if(t.ignore==true)return true;s.push({name:t.name,value:o.parse(this,t),display:e.trim(e(this).html())})});var a=n.find("> td:visible").length;var f=r.hasClass("footable-row-detail");if(!f){r=e('<tr class="footable-row-detail"><td class="footable-cell-detail"><div class="footable-row-detail-inner"></div></td></tr>');n.after(r)}r.find("> td:first").attr("colspan",a);i=r.find(".footable-row-detail-inner").empty();u.createDetail(i,s);return!f};o.raise=function(t,n){n=n||{};var r={ft:o};e.extend(true,r,n);var i=e.Event(t,r);if(!i.ft){e.extend(true,i,r)}e(o.table).trigger(i);return i};o.init();return o}t.footable={options:{delay:100,breakpoints:{phone:480,tablet:1024},parsers:{alpha:function(t){return e(t).data("value")||e.trim(e(t).text())}},toggleSelector:" > tbody > tr:not(.footable-row-detail)",createDetail:function(e,t){for(var n=0;n<t.length;n++){e.append("<div><strong>"+t[n].name+"</strong> : "+t[n].display+"</div>")}},classes:{loading:"footable-loading",loaded:"footable-loaded",sorted:"footable-sorted",descending:"footable-sorted-desc",indicator:"footable-sort-indicator"},debug:false},version:{major:0,minor:1,toString:function(){return t.footable.version.major+"."+t.footable.version.minor},parse:function(e){version=/(\d+)\.?(\d+)?\.?(\d+)?/.exec(e);return{major:parseInt(version[1])||0,minor:parseInt(version[2])||0,patch:parseInt(version[3])||0}}},plugins:{_validate:function(n){if(typeof n["name"]!=="string"){if(t.footable.options.debug==true)console.error('Validation failed, plugin does not implement a string property called "name".',n);return false}if(!e.isFunction(n["init"])){if(t.footable.options.debug==true)console.error('Validation failed, plugin "'+n["name"]+'" does not implement a function called "init".',n);return false}if(t.footable.options.debug==true)console.log('Validation succeeded for plugin "'+n["name"]+'".',n);return true},registered:[],register:function(r,i){if(t.footable.plugins._validate(r)){t.footable.plugins.registered.push(r);if(i!=n&&typeof i==="object")e.extend(true,t.footable.options,i);if(t.footable.options.debug==true)console.log('Plugin "'+r["name"]+'" has been registered with the Foobox.',r)}},init:function(e){for(var n=0;n<t.footable.plugins.registered.length;n++){try{t.footable.plugins.registered[n]["init"](e)}catch(r){if(t.footable.options.debug==true)console.error(r)}}}}};var r=0;e.fn.footable=function(n){n=n||{};var i=e.extend(true,{},t.footable.options,n);return this.each(function(){r++;this.footable=new s(this,i,r)})};})(jQuery,window)